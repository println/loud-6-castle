"use strict";(self.webpackChunkloud_6_castle=self.webpackChunkloud_6_castle||[]).push([[460],{460:(B,f,r)=>{r.r(f),r.d(f,{FilmModule:()=>$});var s=r(8583),u=r(3679),h=r(9883),g=r(6490),l=r(4655),t=r(7716),_=r(6952),d=r(7109),v=r(3338);const T=function(n){return[n,"edit"]};function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n            "),t.TgZ(2,"td"),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.TgZ(5,"td"),t._uU(6),t.qZA(),t._uU(7,"\n            "),t.TgZ(8,"td"),t._uU(9),t.qZA(),t._uU(10,"\n            "),t.TgZ(11,"td"),t._uU(12),t.qZA(),t._uU(13,"\n            "),t.TgZ(14,"td"),t._uU(15),t.qZA(),t._uU(16,"\n            "),t.TgZ(17,"td"),t._uU(18),t.qZA(),t._uU(19,"\n            "),t.TgZ(20,"td"),t._uU(21,"\n              "),t.TgZ(22,"a",11),t._uU(23,"\n                "),t._UZ(24,"i",12),t._uU(25,"\n                View\n              "),t.qZA(),t._uU(26,"\n              "),t.TgZ(27,"a",13),t._uU(28,"\n                "),t._UZ(29,"i",14),t._uU(30,"\n              "),t.qZA(),t._uU(31,"\n              "),t.TgZ(32,"button",15),t.NdJ("click",function(a){const m=t.CHM(e).$implicit;return t.oxw(2).delete(m,a)}),t._uU(33,"\n                "),t._UZ(34,"i",16),t._uU(35,"\n              "),t.qZA(),t._uU(36,"\n            "),t.qZA(),t._uU(37,"\n          "),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.id),t.xp6(3),t.Oqu(e.title),t.xp6(3),t.Oqu(e.episode_id),t.xp6(3),t.Oqu(e.director),t.xp6(3),t.Oqu(e.producer),t.xp6(3),t.Oqu(e.release_date),t.xp6(4),t.Q6J("routerLink",e.id),t.xp6(5),t.Q6J("routerLink",t.VKq(8,T,e.id))}}function A(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1,"\n    "),t.TgZ(2,"app-grid",4),t._uU(3,"\n      "),t.ynx(4,5),t._uU(5,"\n        "),t.TgZ(6,"div",6),t._uU(7,"\n          "),t._UZ(8,"input",7),t._uU(9,"\n        "),t.qZA(),t._uU(10,"\n      "),t.BQk(),t._uU(11,"\n\n      "),t.TgZ(12,"table",8),t._uU(13,"\n        "),t.TgZ(14,"thead"),t._uU(15,"\n          "),t.TgZ(16,"tr"),t._uU(17,"\n            "),t.TgZ(18,"th",9),t._uU(19,"#"),t.qZA(),t._uU(20,"\n            "),t.TgZ(21,"th",9),t._uU(22,"Title"),t.qZA(),t._uU(23,"\n            "),t.TgZ(24,"th",9),t._uU(25,"Episode"),t.qZA(),t._uU(26,"\n            "),t.TgZ(27,"th",9),t._uU(28,"Director"),t.qZA(),t._uU(29,"\n            "),t.TgZ(30,"th",9),t._uU(31,"Producer"),t.qZA(),t._uU(32,"\n            "),t.TgZ(33,"th",9),t._uU(34,"Release date"),t.qZA(),t._uU(35,"\n            "),t.TgZ(36,"th",9),t._uU(37,"Actions"),t.qZA(),t._uU(38,"\n          "),t.qZA(),t._uU(39,"\n        "),t.qZA(),t._uU(40,"\n        "),t.TgZ(41,"tbody"),t._uU(42,"\n          "),t.YNc(43,F,38,10,"tr",10),t._uU(44,"\n        "),t.qZA(),t._uU(45,"\n      "),t.qZA(),t._uU(46,"\n    "),t.qZA(),t._uU(47,"\n  "),t.qZA()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("data",e)("searchBar",!0),t.xp6(41),t.Q6J("ngForOf",e.items)}}let x=(()=>{class n{constructor(e,o,a,p){this.route=e,this.router=o,this.renderer=a,this.service=p}ngOnInit(){this.data$=this.route.data}changePage(e,o){this.navigate({page:o})}delete(e,o){if(!confirm(`Are you sure to delete ${e.title}?`))return;let p=o.currentTarget.parentElement;for(;!(p instanceof HTMLTableRowElement);)p=p.parentElement;this.service.deleteById(e).subscribe(m=>{console.log("DELETE call successful value returned in body",m),this.renderer.setStyle(p,"display","none")},m=>{window.alert("DELETE call in error"),console.log("DELETE call in error",m)})}navigate(e){this.router.navigate([],{relativeTo:this.route,queryParams:e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(t.Qsj),t.Y36(_.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-film-list"]],decls:14,vars:3,consts:[["page-title",""],["page-action-bar","","role","button","routerLink","new",1,"btn","btn-primary"],[1,"fas","fa-plus","fa-fw"],[4,"ngIf"],[3,"data","searchBar"],["search-fields",""],[1,"col-auto"],["id","title","name","title","placeholder","Title","type","text",1,"form-control"],["grid-view","",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"far","fa-eye","fa-tw"],["role","button",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"fas","fa-pencil-alt","fa-fw"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt","fa-fw"]],template:function(e,o){if(1&e&&(t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.TgZ(2,"span",0),t._uU(3,"Films"),t.qZA(),t._uU(4,"\n  "),t.TgZ(5,"a",1),t._uU(6,"\n    "),t._UZ(7,"i",2),t._uU(8," New Film\n  "),t.qZA(),t._uU(9,"\n\n  "),t.YNc(10,A,48,3,"div",3),t.ALo(11,"async"),t._uU(12,"\n"),t.qZA(),t._uU(13,"\n")),2&e){let a;t.xp6(10),t.Q6J("ngIf",null==(a=t.lcZ(11,1,o.data$))?null:a.page)}},directives:[d.I,l.yS,s.O5,v.M,s.sg],pipes:[s.Ov],encapsulation:2}),n})(),U=(()=>{class n{constructor(e){this.service=e}resolve(e){const o=e.paramMap.get("id");return this.service.findById(o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.W))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=r(4762),Z=r(6857),y=r(2051),C=r(3993);function q(n,i){if(1&n&&(t.TgZ(0,"span",7),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("Editing: ",e.pristineData.title,"")}}function D(n,i){1&n&&(t._uU(0,"\n    "),t.TgZ(1,"h4"),t._uU(2,"Add new person"),t.qZA(),t._uU(3,"\n  "))}function w(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.YNc(2,q,2,1,"span",1),t._uU(3,"\n  "),t.YNc(4,D,4,0,"ng-template",null,2,t.W1O),t._uU(6,"\n\n  "),t.TgZ(7,"app-form",3),t.NdJ("formSubmit",function(){return t.CHM(e),t.oxw().submit()}),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"label",5),t._uU(12,"Title"),t.qZA(),t._uU(13,"\n      "),t._UZ(14,"input",6),t._uU(15,"\n    "),t.qZA(),t._uU(16,"\n  "),t.qZA(),t._uU(17,"\n"),t.qZA()}if(2&n){const e=t.MAs(5),o=t.oxw();t.xp6(2),t.Q6J("ngIf",null==o.pristineData?null:o.pristineData.id)("ngIfElse",e),t.xp6(5),t.Q6J("formGroup",o.formR)("edit",!(null==o.pristineData||!o.pristineData.id))}}let c=class{constructor(i,e,o,a){this.formBuilder=i,this.route=e,this.router=o,this.service=a,this.formData={}}ngOnInit(){var i;this.route.data.pipe((0,Z.t)(this)).subscribe(e=>{this.pristineData=e.data,this.formData=Object.assign({},this.pristineData)}),this.formR=this.formBuilder.group({title:[null===(i=this.formData)||void 0===i?void 0:i.title,u.kI.required]})}save(i){const e=this.createFilm();e.title=i.title,this.service.create(e).subscribe(o=>{console.log("CREATE call successful value returned in body",o),this.router.navigate([o],{relativeTo:this.route.parent})},o=>{window.alert("CREATE call in error"),console.log("CREATE call in error",o)})}update(i,e){this.service.update(e,i).subscribe(o=>{console.log("UPDATE call successful value returned in body",o),this.router.navigate(["../"],{relativeTo:this.route})},o=>{window.alert("UPDATE call in error"),console.log("UPDATE call in error",o)})}submit(){return this.pristineData?this.update(this.formR.value,this.pristineData.id):this.save(this.formR.value),!1}createFilm(){return{id:0,title:"",episode_id:(7,20,13*Math.random()+7),opening_crawl:"sinopse",director:"director",producer:"string",release_date:new Date,characters:["https://swapi.dev/api/people/2/"],planets:["https://swapi.dev/api/planets/1/"],starships:["https://swapi.dev/api/starships/21/"],vehicles:["https://swapi.dev/api/vehicles/4/"],species:["https://swapi.dev/api/species/1/"],created:(new Date).toISOString().substring(0,10),edited:(new Date).toISOString().substring(0,10),url:"https://swapi.dev/api/films/"}}};function I(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.value)}}function O(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function L(n,i){if(1&n&&(t.TgZ(0,"ul"),t._uU(1,"\n        "),t.YNc(2,O,2,1,"li",8),t._uU(3,"\n      "),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.value)}}function J(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1,"\n      "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4," "),t.YNc(5,I,2,1,"span",0),t._uU(6,"\n      "),t.YNc(7,L,4,1,"ul",0),t._uU(8,"\n    "),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(3),t.hij("",e.key,":"),t.xp6(2),t.Q6J("ngIf",!o.isArray(e.value)),t.xp6(2),t.Q6J("ngIf",o.isArray(e.value))}}c.\u0275fac=function(i){return new(i||c)(t.Y36(u.qu),t.Y36(l.gz),t.Y36(l.F0),t.Y36(_.W))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-film-form"]],viewQuery:function(i,e){if(1&i&&t.Gf(g.Ur,5),2&i){let o;t.iGM(o=t.CRH())&&(e.form=o.first)}},decls:2,vars:1,consts:[[4,"ngIf"],["page-title","",4,"ngIf","ngIfElse"],["creationTitle",""],[3,"formGroup","edit","formSubmit"],["app-form-field-feedback","",1,"form-group"],["for","title"],["type","text","id","title","name","title","placeholder","Enter title","formControlName","title",1,"form-control"],["page-title",""]],template:function(i,e){1&i&&(t.YNc(0,w,18,4,"app-page",0),t._uU(1,"\n")),2&i&&t.Q6J("ngIf",e.formData)},directives:[s.O5,d.I,y.U,u.JL,u.sg,C.I,u.Fj,u.JJ,u.u],encapsulation:2}),c=(0,b.gn)([(0,Z.c)()],c);const Y=function(){return["edit"]};function M(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t._uU(4,"\n  "),t.TgZ(5,"div",2),t._uU(6,"\n    "),t.TgZ(7,"a",3),t._uU(8,"\n      "),t._UZ(9,"i",4),t._uU(10,"\n      Edit\n    "),t.qZA(),t._uU(11,"\n    "),t.TgZ(12,"button",5),t.NdJ("click",function(){const p=t.CHM(e).ngIf;return t.oxw().delete(p)}),t._uU(13,"\n      "),t._UZ(14,"i",6),t._uU(15,"\n      Delete\n    "),t.qZA(),t._uU(16,"\n  "),t.qZA(),t._uU(17,"\n\n  "),t.TgZ(18,"ul",7),t._uU(19,"\n    "),t.YNc(20,J,9,3,"li",8),t.ALo(21,"keyvalue"),t._uU(22,"\n  "),t.qZA(),t._uU(23,"\n"),t.qZA()}if(2&n){const e=i.ngIf;t.xp6(3),t.hij("Film: ",e.title,""),t.xp6(4),t.Q6J("routerLink",t.DdM(5,Y)),t.xp6(13),t.Q6J("ngForOf",t.lcZ(21,3,e))}}let Q=(()=>{class n{constructor(e,o,a){this.route=e,this.router=o,this.service=a}ngOnInit(){this.data$=this.route.data}delete(e){confirm(`Are you sure to delete ${e.title}?`)}isArray(e){return Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(_.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-film-detail"]],decls:3,vars:3,consts:[[4,"ngIf"],["page-title",""],["page-action-bar","",1,"stn-action-bar"],["role","button",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"fas","fa-pencil-alt","fa-fw"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt","fa-fw"],[1,"o-vertical-list"],[4,"ngFor","ngForOf"]],template:function(e,o){if(1&e&&(t.YNc(0,M,24,6,"app-page",0),t.ALo(1,"async"),t._uU(2,"\n")),2&e){let a;t.Q6J("ngIf",null==(a=t.lcZ(1,1,o.data$))?null:a.data)}},directives:[s.O5,d.I,l.yS,s.sg],pipes:[s.Ov,s.Nd],encapsulation:2}),n})();const N=[{path:"",children:[{path:"",pathMatch:"full",component:x,runGuardsAndResolvers:"paramsOrQueryParamsChange",resolve:{page:r(8354).X}},{path:"new",pathMatch:"full",component:c},{path:":id/edit",pathMatch:"full",component:c,resolve:{data:U}},{path:":id",pathMatch:"full",component:Q,resolve:{data:U}}]}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(N)],l.Bz]}),n})(),$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,u.u5,S,h.jF,g.Kk,u.UX]]}),n})()}}]);