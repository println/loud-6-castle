"use strict";(self.webpackChunkloud_6_castle=self.webpackChunkloud_6_castle||[]).push([[460],{460:(B,f,a)=>{a.r(f),a.d(f,{FilmModule:()=>k});var r=a(8583),u=a(3679),h=a(9883),g=a(4754),p=a(4655),t=a(7716),m=a(6952),_=a(7109),F=a(3338);const T=function(e){return[e,"edit"]};function v(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n            "),t.TgZ(2,"td"),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.TgZ(5,"td"),t._uU(6),t.qZA(),t._uU(7,"\n            "),t.TgZ(8,"td"),t._uU(9),t.qZA(),t._uU(10,"\n            "),t.TgZ(11,"td"),t._uU(12),t.qZA(),t._uU(13,"\n            "),t.TgZ(14,"td"),t._uU(15),t.qZA(),t._uU(16,"\n            "),t.TgZ(17,"td"),t._uU(18),t.qZA(),t._uU(19,"\n            "),t.TgZ(20,"td"),t._uU(21,"\n              "),t.TgZ(22,"a",11),t._uU(23,"\n                "),t._UZ(24,"i",12),t._uU(25,"\n                View\n              "),t.qZA(),t._uU(26,"\n              "),t.TgZ(27,"a",13),t._uU(28,"\n                "),t._UZ(29,"i",14),t._uU(30,"\n              "),t.qZA(),t._uU(31,"\n              "),t.TgZ(32,"button",15),t.NdJ("click",function(l){const Z=t.CHM(n).$implicit;return t.oxw(2).delete(Z,l)}),t._uU(33,"\n                "),t._UZ(34,"i",16),t._uU(35,"\n              "),t.qZA(),t._uU(36,"\n            "),t.qZA(),t._uU(37,"\n          "),t.qZA()}if(2&e){const n=i.$implicit;t.xp6(3),t.Oqu(n.id),t.xp6(3),t.Oqu(n.title),t.xp6(3),t.Oqu(n.episode_id),t.xp6(3),t.Oqu(n.director),t.xp6(3),t.Oqu(n.producer),t.xp6(3),t.Oqu(n.release_date),t.xp6(4),t.Q6J("routerLink",n.id),t.xp6(5),t.Q6J("routerLink",t.VKq(8,T,n.id))}}function A(e,i){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n    "),t.TgZ(2,"app-grid",4),t._uU(3,"\n      "),t.ynx(4,5),t._uU(5,"\n        "),t.TgZ(6,"div",6),t._uU(7,"\n          "),t._UZ(8,"input",7),t._uU(9,"\n        "),t.qZA(),t._uU(10,"\n      "),t.BQk(),t._uU(11,"\n\n      "),t.TgZ(12,"table",8),t._uU(13,"\n        "),t.TgZ(14,"thead"),t._uU(15,"\n          "),t.TgZ(16,"tr"),t._uU(17,"\n            "),t.TgZ(18,"th",9),t._uU(19,"#"),t.qZA(),t._uU(20,"\n            "),t.TgZ(21,"th",9),t._uU(22,"Title"),t.qZA(),t._uU(23,"\n            "),t.TgZ(24,"th",9),t._uU(25,"Episode"),t.qZA(),t._uU(26,"\n            "),t.TgZ(27,"th",9),t._uU(28,"Director"),t.qZA(),t._uU(29,"\n            "),t.TgZ(30,"th",9),t._uU(31,"Producer"),t.qZA(),t._uU(32,"\n            "),t.TgZ(33,"th",9),t._uU(34,"Release date"),t.qZA(),t._uU(35,"\n            "),t.TgZ(36,"th",9),t._uU(37,"Actions"),t.qZA(),t._uU(38,"\n          "),t.qZA(),t._uU(39,"\n        "),t.qZA(),t._uU(40,"\n        "),t.TgZ(41,"tbody"),t._uU(42,"\n          "),t.YNc(43,v,38,10,"tr",10),t._uU(44,"\n        "),t.qZA(),t._uU(45,"\n      "),t.qZA(),t._uU(46,"\n    "),t.qZA(),t._uU(47,"\n  "),t.qZA()),2&e){const n=i.ngIf;t.xp6(2),t.Q6J("data",n)("searchBar",!0),t.xp6(41),t.Q6J("ngForOf",n.items)}}let x=(()=>{class e{constructor(n,o,l,c){this.route=n,this.router=o,this.renderer=l,this.service=c}ngOnInit(){this.data$=this.route.data}changePage(n,o){this.navigate({page:o})}delete(n,o){if(!confirm(`Are you sure to delete ${n.title}?`))return;let c=o.currentTarget.parentElement;for(;!c.classList.contains("stn-item");)c=c.parentElement}navigate(n){this.router.navigate([],{relativeTo:this.route,queryParams:n})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(t.Qsj),t.Y36(m.W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-film-list"]],decls:14,vars:3,consts:[["page-title",""],["page-action-bar","","role","button","routerLink","new",1,"btn","btn-primary"],[1,"fas","fa-plus","fa-fw"],[4,"ngIf"],[3,"data","searchBar"],["search-fields",""],[1,"col-auto"],["id","title","name","title","placeholder","Title","type","text",1,"form-control"],["grid-view","",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"far","fa-eye","fa-tw"],["role","button",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"fas","fa-pencil-alt","fa-fw"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt","fa-fw"]],template:function(n,o){if(1&n&&(t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.TgZ(2,"span",0),t._uU(3,"Films"),t.qZA(),t._uU(4,"\n  "),t.TgZ(5,"a",1),t._uU(6,"\n    "),t._UZ(7,"i",2),t._uU(8," New Film\n  "),t.qZA(),t._uU(9,"\n\n  "),t.YNc(10,A,48,3,"div",3),t.ALo(11,"async"),t._uU(12,"\n"),t.qZA(),t._uU(13,"\n")),2&n){let l;t.xp6(10),t.Q6J("ngIf",null==(l=t.lcZ(11,1,o.data$))?null:l.page)}},directives:[_.I,p.yS,r.O5,F.M,r.sg],pipes:[r.Ov],encapsulation:2}),e})(),d=(()=>{class e{constructor(n){this.service=n}resolve(n){const o=n.paramMap.get("id");return this.service.findById(o)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(m.W))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var q=a(4762),U=a(6857),y=a(2051),C=a(3993);function b(e,i){if(1&e&&(t.TgZ(0,"span",7),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij("Editing: ",n.pristineData.title,"")}}function I(e,i){1&e&&(t._uU(0,"\n    "),t.TgZ(1,"h4"),t._uU(2,"Add new person"),t.qZA(),t._uU(3,"\n  "))}function D(e,i){if(1&e&&(t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.YNc(2,b,2,1,"span",1),t._uU(3,"\n  "),t.YNc(4,I,4,0,"ng-template",null,2,t.W1O),t._uU(6,"\n\n  "),t.TgZ(7,"app-form",3),t._uU(8,"\n    "),t.TgZ(9,"div",4),t._uU(10,"\n      "),t.TgZ(11,"label",5),t._uU(12,"Title"),t.qZA(),t._uU(13,"\n      "),t._UZ(14,"input",6),t._uU(15,"\n    "),t.qZA(),t._uU(16,"\n  "),t.qZA(),t._uU(17,"\n"),t.qZA()),2&e){const n=t.MAs(5),o=t.oxw();t.xp6(2),t.Q6J("ngIf",null==o.pristineData?null:o.pristineData.id)("ngIfElse",n),t.xp6(5),t.Q6J("formGroup",o.formR)("edit",!(null==o.pristineData||!o.pristineData.id))}}let s=class{constructor(i,n){this.formBuilder=i,this.route=n,this.formData={}}ngOnInit(){var i;this.route.data.pipe((0,U.t)(this)).subscribe(n=>{this.pristineData=n.data,this.formData=Object.assign({},this.pristineData)}),this.formR=this.formBuilder.group({title:[null===(i=this.formData)||void 0===i?void 0:i.title,u.kI.required]})}};function O(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.value)}}function J(e,i){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n)}}function L(e,i){if(1&e&&(t.TgZ(0,"ul"),t._uU(1,"\n        "),t.YNc(2,J,2,1,"li",8),t._uU(3,"\n      "),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",n.value)}}function Y(e,i){if(1&e&&(t.TgZ(0,"li"),t._uU(1,"\n      "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4," "),t.YNc(5,O,2,1,"span",0),t._uU(6,"\n      "),t.YNc(7,L,4,1,"ul",0),t._uU(8,"\n    "),t.qZA()),2&e){const n=i.$implicit,o=t.oxw(2);t.xp6(3),t.hij("",n.key,":"),t.xp6(2),t.Q6J("ngIf",!o.isArray(n.value)),t.xp6(2),t.Q6J("ngIf",o.isArray(n.value))}}s.\u0275fac=function(i){return new(i||s)(t.Y36(u.qu),t.Y36(p.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-film-form"]],viewQuery:function(i,n){if(1&i&&t.Gf(g.Ur,5),2&i){let o;t.iGM(o=t.CRH())&&(n.form=o.first)}},decls:2,vars:1,consts:[[4,"ngIf"],["page-title","",4,"ngIf","ngIfElse"],["creationTitle",""],[3,"formGroup","edit"],["app-form-field-feedback","",1,"form-group"],["for","title"],["type","text","id","title","name","title","placeholder","Enter title","formControlName","title",1,"form-control"],["page-title",""]],template:function(i,n){1&i&&(t.YNc(0,D,18,4,"app-page",0),t._uU(1,"\n")),2&i&&t.Q6J("ngIf",n.formData)},directives:[r.O5,_.I,y.U,u.JL,u.sg,C.I,u.Fj,u.JJ,u.u],encapsulation:2}),s=(0,q.gn)([(0,U.c)()],s);const Q=function(){return["edit"]};function M(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t._uU(4,"\n  "),t.TgZ(5,"div",2),t._uU(6,"\n    "),t.TgZ(7,"a",3),t._uU(8,"\n      "),t._UZ(9,"i",4),t._uU(10,"\n      Edit\n    "),t.qZA(),t._uU(11,"\n    "),t.TgZ(12,"button",5),t.NdJ("click",function(){const c=t.CHM(n).ngIf;return t.oxw().delete(c)}),t._uU(13,"\n      "),t._UZ(14,"i",6),t._uU(15,"\n      Delete\n    "),t.qZA(),t._uU(16,"\n  "),t.qZA(),t._uU(17,"\n\n  "),t.TgZ(18,"ul",7),t._uU(19,"\n    "),t.YNc(20,Y,9,3,"li",8),t.ALo(21,"keyvalue"),t._uU(22,"\n  "),t.qZA(),t._uU(23,"\n"),t.qZA()}if(2&e){const n=i.ngIf;t.xp6(3),t.hij("Film: ",n.title,""),t.xp6(4),t.Q6J("routerLink",t.DdM(5,Q)),t.xp6(13),t.Q6J("ngForOf",t.lcZ(21,3,n))}}let N=(()=>{class e{constructor(n,o,l){this.route=n,this.router=o,this.service=l}ngOnInit(){this.data$=this.route.data}delete(n){confirm(`Are you sure to delete ${n.title}?`)}isArray(n){return Array.isArray(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(m.W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-film-detail"]],decls:3,vars:3,consts:[[4,"ngIf"],["page-title",""],["page-action-bar","",1,"stn-action-bar"],["role","button",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"fas","fa-pencil-alt","fa-fw"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt","fa-fw"],[1,"o-vertical-list"],[4,"ngFor","ngForOf"]],template:function(n,o){if(1&n&&(t.YNc(0,M,24,6,"app-page",0),t.ALo(1,"async"),t._uU(2,"\n")),2&n){let l;t.Q6J("ngIf",null==(l=t.lcZ(1,1,o.data$))?null:l.data)}},directives:[r.O5,_.I,p.yS,r.sg],pipes:[r.Ov,r.Nd],encapsulation:2}),e})();const $=[{path:"",children:[{path:"",pathMatch:"full",component:x,runGuardsAndResolvers:"paramsOrQueryParamsChange",resolve:{page:a(8354).X}},{path:"new",pathMatch:"full",component:s},{path:":id/edit",pathMatch:"full",component:s,resolve:{data:d}},{path:":id",pathMatch:"full",component:N,resolve:{data:d}}]}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild($)],p.Bz]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,u.u5,R,h.jF,g.Kk,u.UX]]}),e})()}}]);