"use strict";(self.webpackChunkloud_6_castle=self.webpackChunkloud_6_castle||[]).push([[725],{7725:(ie,j,u)=>{u.r(j),u.d(j,{PersonModule:()=>ne});var c=u(8583),o=u(3679),p=u(4655),X=u(9883),K=u(6490),W=u(6897),w=u(8354),G=u(5917),t=u(7716),D=u(5257),f=u(8002);var et=u(1841),nt=u(4807);let y=(()=>{class n{constructor(e,i){this.http=e,this.converter=i,this.resource="/people"}findAll(e){return this.http.get(this.resource,{params:e}).pipe((0,D.q)(1),(0,f.U)(i=>this.converter.convert(i)))}findById(e){return this.http.get(`${this.resource}/${e}`).pipe((0,D.q)(1),(0,f.U)(i=>(i.id=this.converter.extractId(i.url),i)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(et.eN),t.LFG(nt.$))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=u(7109);function rt(n,r){if(1&n&&(t.TgZ(0,"li",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function it(n,r){if(1&n&&(t.TgZ(0,"li",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function st(n,r){if(1&n&&(t.TgZ(0,"li",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function ot(n,r){if(1&n&&(t.TgZ(0,"li",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}const at=function(){return["edit"]};function ut(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.TgZ(2,"span",1),t._uU(3,"Person"),t.qZA(),t._uU(4,"\n  "),t.TgZ(5,"div",2),t._uU(6,"\n    "),t.TgZ(7,"a",3),t._uU(8,"\n      "),t._UZ(9,"i",4),t._uU(10,"\n      Edit\n    "),t.qZA(),t._uU(11,"\n    "),t.TgZ(12,"button",5),t.NdJ("click",function(){const a=t.CHM(e).ngIf;return t.oxw().delete(a)}),t._uU(13,"\n      "),t._UZ(14,"i",6),t._uU(15,"\n      Delete\n    "),t.qZA(),t._uU(16,"\n  "),t.qZA(),t._uU(17,"\n\n  "),t.TgZ(18,"figure",7),t._uU(19,"\n    "),t.TgZ(20,"div",8),t._uU(21,"\n      "),t._UZ(22,"img",9),t._uU(23,"\n    "),t.qZA(),t._uU(24,"\n    "),t.TgZ(25,"figcaption",10),t._uU(26,"\n      "),t.TgZ(27,"div",11),t._uU(28,"\n        "),t.TgZ(29,"h3",12),t._uU(30),t.qZA(),t._uU(31,"\n        "),t.TgZ(32,"ul",13),t._uU(33,"\n          "),t.TgZ(34,"li",14),t.TgZ(35,"strong"),t._uU(36,"#ID:"),t.qZA(),t._uU(37),t.qZA(),t._uU(38,"\n          "),t.TgZ(39,"li",14),t.TgZ(40,"strong"),t._uU(41,"Birth Year:"),t.qZA(),t._uU(42),t.qZA(),t._uU(43,"\n          "),t.TgZ(44,"li",14),t.TgZ(45,"strong"),t._uU(46,"Eye Color:"),t.qZA(),t._uU(47),t.qZA(),t._uU(48,"\n          "),t.TgZ(49,"li",14),t.TgZ(50,"strong"),t._uU(51,"Gender:"),t.qZA(),t._uU(52),t.qZA(),t._uU(53,"\n          "),t.TgZ(54,"li",14),t.TgZ(55,"strong"),t._uU(56,"Hair Color:"),t.qZA(),t._uU(57),t.qZA(),t._uU(58,"\n          "),t.TgZ(59,"li",14),t.TgZ(60,"strong"),t._uU(61,"Height:"),t.qZA(),t._uU(62),t.qZA(),t._uU(63,"\n          "),t.TgZ(64,"li",14),t.TgZ(65,"strong"),t._uU(66,"Mass:"),t.qZA(),t._uU(67),t.qZA(),t._uU(68,"\n          "),t.TgZ(69,"li",14),t.TgZ(70,"strong"),t._uU(71,"Skin Color:"),t.qZA(),t._uU(72),t.qZA(),t._uU(73,"\n          "),t.TgZ(74,"li",14),t.TgZ(75,"strong"),t._uU(76,"Homeworld:"),t.qZA(),t._uU(77),t.qZA(),t._uU(78,"\n          "),t.TgZ(79,"li",14),t._uU(80,"\n            "),t.TgZ(81,"strong"),t._uU(82,"Films:"),t.qZA(),t._uU(83),t.TgZ(84,"ul"),t._uU(85,"\n              "),t.YNc(86,rt,2,1,"li",15),t._uU(87,"\n            "),t.qZA(),t._uU(88,"\n          "),t.qZA(),t._uU(89,"\n          "),t.TgZ(90,"li",14),t._uU(91,"\n            "),t.TgZ(92,"strong"),t._uU(93,"Species:"),t.qZA(),t._uU(94),t.TgZ(95,"ul"),t._uU(96,"\n              "),t.YNc(97,it,2,1,"li",15),t._uU(98,"\n            "),t.qZA(),t._uU(99,"\n          "),t.qZA(),t._uU(100,"\n          "),t.TgZ(101,"li",14),t._uU(102,"\n            "),t.TgZ(103,"strong"),t._uU(104,"Starships:"),t.qZA(),t._uU(105),t.TgZ(106,"ul"),t._uU(107,"\n              "),t.YNc(108,st,2,1,"li",15),t._uU(109,"\n            "),t.qZA(),t._uU(110,"\n          "),t.qZA(),t._uU(111,"\n          "),t.TgZ(112,"li",14),t._uU(113,"\n            "),t.TgZ(114,"strong"),t._uU(115,"Vehicles:"),t.qZA(),t._uU(116),t.TgZ(117,"ul"),t._uU(118,"\n              "),t.YNc(119,ot,2,1,"li",15),t._uU(120,"\n            "),t.qZA(),t._uU(121,"\n          "),t.qZA(),t._uU(122,"\n          "),t.TgZ(123,"li",14),t.TgZ(124,"strong"),t._uU(125,"Created at:"),t.qZA(),t._uU(126),t.qZA(),t._uU(127,"\n          "),t.TgZ(128,"li",14),t.TgZ(129,"strong"),t._uU(130,"Updated at:"),t.qZA(),t._uU(131),t.ALo(132,"date"),t.qZA(),t._uU(133,"\n        "),t.qZA(),t._uU(134,"\n      "),t.qZA(),t._uU(135,"\n    "),t.qZA(),t._uU(136,"\n  "),t.qZA(),t._uU(137,"\n"),t.qZA()}if(2&n){const e=r.ngIf;t.xp6(7),t.Q6J("routerLink",t.DdM(24,at)),t.xp6(23),t.Oqu(e.name),t.xp6(7),t.hij(" ",e.id,""),t.xp6(5),t.hij(" ",e.birth_year,""),t.xp6(5),t.hij(" ",e.eye_color,""),t.xp6(5),t.hij(" ",e.gender,""),t.xp6(5),t.hij(" ",e.hair_color,""),t.xp6(5),t.hij(" ",e.height,""),t.xp6(5),t.hij(" ",e.mass,""),t.xp6(5),t.hij(" ",e.skin_color,""),t.xp6(5),t.hij(" ",e.homeworld,""),t.xp6(6),t.hij(" ",e.films.length,"\n            "),t.xp6(3),t.Q6J("ngForOf",e.films),t.xp6(8),t.hij(" ",e.species.length,"\n            "),t.xp6(3),t.Q6J("ngForOf",e.species),t.xp6(8),t.hij(" ",e.starships.length,"\n            "),t.xp6(3),t.Q6J("ngForOf",e.starships),t.xp6(8),t.hij(" ",e.vehicles.length,"\n            "),t.xp6(3),t.Q6J("ngForOf",e.vehicles),t.xp6(7),t.hij(" ",e.created,""),t.xp6(5),t.hij(" ",t.xi3(132,21,e.edited,"medium"),"")}}let lt=(()=>{class n{constructor(e,i,s){this.route=e,this.router=i,this.peopleService=s,this.data$=(0,G.of)({})}ngOnInit(){this.data$=this.route.data}delete(e){confirm(`Are you sure to delete ${e.name}?`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-employee-detail"]],decls:3,vars:3,consts:[[4,"ngIf"],["page-title",""],["page-action-bar","",1,"stn-action-bar"],["role","button",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"fas","fa-pencil-alt","fa-fw"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt","fa-fw"],[1,"card","d-flex","flex-row"],[1,"row","g-0"],["src","assets/images/default-profile.png",1,"img-fluid","rounded-start"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"list-unstyled"],[1,"card-text"],["class","card-text",4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(t.YNc(0,ut,138,25,"app-page",0),t.ALo(1,"async"),t._uU(2,"\n")),2&e){let s;t.Q6J("ngIf",null==(s=t.lcZ(1,1,i.data$))?null:s.data)}},directives:[c.O5,M.I,p.yS,c.sg],pipes:[c.Ov,c.uU],encapsulation:2}),n})();var C=u(4762),U=u(6857),$=u(2032),F=u(1477);let O=(()=>{class n extends F.yh{constructor(){super({pristineData:{},extraData:{}},{name:`PartialFormStore-${(0,F.M8)()}`})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),v=(()=>{class n extends F.AE{constructor(e){super(e),this.store=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(O))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var ct=u(6215),pt=u(9765),ht=u(6682),ft=u(9193),dt=u(8634),J=u(5435),b=u(7519),q=u(5345);class mt{constructor(r){this.durationSelector=r}call(r,e){return e.subscribe(new _t(r,this.durationSelector))}}class _t extends q.Ds{constructor(r,e){super(r),this.durationSelector=e,this.hasValue=!1}_next(r){try{const e=this.durationSelector.call(this,r);e&&this._tryNext(r,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(r,e){let i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=(0,q.ft)(e,new q.IY(this)),i&&!i.closed&&this.add(this.durationSubscription=i)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const r=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(r)}}}var vt=u(7393);function Y(n){return r=>r.lift(new Ut(n))}class Ut{constructor(r){this.value=r}call(r,e){return e.subscribe(new Zt(r,this.value))}}class Zt extends vt.L{constructor(r,e){super(r),this.value=e}_next(r){this.destination.next(this.value)}}const At=n=>n.pipe((0,J.h)(r=>null!=r));function Z(n){return function(n){return null==n}(n)?[]:Array.isArray(n)?n:[n]}function yt(n){return A(n)?Object.assign({},n):Array.isArray(n)?[...n]:n}function A(n){return null!=n&&!Array.isArray(n)&&!function(n){return n&&"[object Date]"===Object.prototype.toString.call(n)&&!isNaN(n)}(n)&&"object"==typeof n}const bt=["dirty","disabled","invalid","pending","errors","pristine","touched","valid"];function $t(n,r){return n.reduce((e,i,s)=>(e[s]=S(i,r),e),[])}function S(n,r){const e={};for(const i of Object.keys(n)){const s=n[i];!1===r(i)&&(e[i]=A(s)?S(s,r):Array.isArray(s)&&"controls"===i?$t(s,r):s)}return e}function R(){return"undefined"!=typeof window}function P(n,...r){if(!r.length)return n;const e=r.shift();if(A(n)&&A(e))for(const i in e)A(e[i])?(n[i]||Object.assign(n,{[i]:{}}),P(n[i],e[i])):Object.assign(n,{[i]:e[i]});return P(n,...r)}function I(n,r){let e;if(r instanceof o.NI)return e=k(r),e;if(r instanceof o.cw||r instanceof o.Oe){e=k(r);for(const i of Object.keys(r.controls)){const s=r.controls[i];e.controls[i]=s instanceof o.cw||s instanceof o.Oe?I(n,s):k(s)}}return e}function Q(n,r){const[e,...i]=r.split(".");return 0===i.length?n.controls[e]:i.reduce((s,a)=>s.controls.hasOwnProperty(a)?s.controls[a]:null,n.controls[e])}function k(n){const r={value:yt(n.value),rawValue:n.getRawValue?n.getRawValue():null,valid:n.valid,dirty:n.dirty,invalid:n.invalid,disabled:n.disabled,errors:n.errors,touched:n.touched,pristine:n.pristine,pending:n.pending,untouched:n.untouched};return(n instanceof o.cw||n instanceof o.Oe)&&(r.controls=n instanceof o.Oe?[]:{}),r}function B(n){for(;0!==n.length;)n.removeAt(0)}const qt={storage:{key:"ngFormsManager"},debounceTime:300};class Pt{constructor(r={}){this.config=r}merge(r={}){return function(n,r={},e){return Object.assign(Object.assign(Object.assign(Object.assign({},n),r),e),{storage:Object.assign(Object.assign(Object.assign({},n.storage),r.storage),e.storage)})}(qt,this.config,r)}}const H=new t.OlP("NG_FORMS_MANAGER_CONFIG",{providedIn:"root",factory:()=>new Pt});class It{constructor(r){this.state=r,this.store=new ct.X(r)}select(r){return this.store.asObservable().pipe((0,f.U)(r),(0,b.x)())}getValue(){return this.store.getValue()}set(r){this.store.next(r)}update(r){this.store.next(Object.assign({},this.getValue(),r))}}function T(n,r){if(n===r)return!0;if(n&&r&&"object"==typeof n&&"object"==typeof r){if(n.constructor!==r.constructor)return!1;var e,i,s;if(Array.isArray(n)){if((e=n.length)!=r.length)return!1;for(i=e;0!=i--;)if(!T(n[i],r[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if((e=(s=Object.keys(n)).length)!==Object.keys(r).length)return!1;for(i=e;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=e;0!=i--;){var a=s[i];if(!T(n[a],r[a]))return!1}return!0}return n!=n&&r!=r}new t.OlP("SESSION_STORAGE_TOKEN",{providedIn:"root",factory:()=>(0,c.NF)((0,t.f3M)(t.Lbi))?sessionStorage:void 0});const Nt=new t.OlP("LOCAL_STORAGE_TOKEN",{providedIn:"root",factory:()=>(0,c.NF)((0,t.f3M)(t.Lbi))?localStorage:void 0}),N=new t.OlP("FORMS_MANAGER_STORAGE",{providedIn:"root",factory:()=>(0,c.NF)((0,t.f3M)(t.Lbi))?(0,t.f3M)(Nt):void 0}),E=Symbol("NO_DEBOUNCE");let x=(()=>{class n{constructor(e,i){this.config=e,this.browserStorage=i,this.valueChanges$$=new Map,this.instances$$=new Map,this.initialValues$$=new Map,this.destroy$$=new pt.xQ,this.store=new It({})}validityChanges(e,i){return this.controlChanges(e,i).pipe((0,f.U)(s=>s.valid))}isValid(e){return this.hasControl(e)&&this.getControl(e).valid}dirtyChanges(e,i){return this.controlChanges(e,i).pipe((0,f.U)(s=>s.dirty))}disableChanges(e,i){return this.controlChanges(e,i).pipe((0,f.U)(s=>s.disabled))}valueChanges(e,i){return this.controlChanges(e,i).pipe((0,f.U)(s=>s.value))}errorsChanges(e,i){return this.controlChanges(e,i).pipe((0,f.U)(s=>s.errors))}controlChanges(e,i){const s=this.store.select(a=>a[e]).pipe(At);return i?s.pipe((0,f.U)(a=>Q(a,i)),(0,b.x)((a,l)=>T(a,l))):s.pipe((0,b.x)((a,l)=>T(a,l)))}initialValueChanged(e){return!1===this.initialValues$$.has(e)&&console.error(`You should set the withInitialValue option to the ${e} control`),this.valueChanges(e).pipe((0,f.U)(i=>!1===T(i,this.initialValues$$.get(e))))}controlDestroyed(e){return this.destroy$$.asObservable().pipe((0,J.h)(i=>e===i||"$$ALL"===i))}getControl(e,i){return i?this.hasControl(e)?Q(this.getControl(e),i):null:this.store.getValue()[e]}getInitialValue(e){return this.initialValues$$.get(e)}hasControl(e,i){return!!this.getControl(e,i)}patchValue(e,i,s){this.instances$$.has(e)&&this.instances$$.get(e).patchValue(i,s)}setValue(e,i,s){this.instances$$.has(e)&&this.instances$$.get(e).setValue(i,s)}reset(e,i,s){this.instances$$.has(e)&&this.instances$$.get(e).reset(i,s)}setInitialValue(e,i){this.initialValues$$.set(e,i)}markAllAsTouched(e){this.instances$$.has(e)&&(this.instances$$.get(e).markAllAsTouched(),this.updateStore(e,this.instances$$.get(e)))}markAsTouched(e,i){this.instances$$.has(e)&&(this.instances$$.get(e).markAsTouched(i),this.updateStore(e,this.instances$$.get(e)))}markAllAsDirty(e,i){if(this.instances$$.has(e)){let s=this.instances$$.get(e);this.markDescendantsAsDirty(s,i),this.updateStore(e,s)}}markAsDirty(e,i){this.instances$$.has(e)&&(this.instances$$.get(e).markAsDirty(i),this.updateStore(e,this.instances$$.get(e)))}markAsPending(e,i){this.instances$$.has(e)&&(this.instances$$.get(e).markAsPending(i),this.updateStore(e,this.instances$$.get(e)))}markAsPristine(e,i){this.instances$$.has(e)&&(this.instances$$.get(e).markAsPristine(i),this.updateStore(e,this.instances$$.get(e)))}markAsUntouched(e,i){this.instances$$.has(e)&&(this.instances$$.get(e).markAsUntouched(i),this.updateStore(e,this.instances$$.get(e)))}unsubscribe(e){if(e){const i=Z(e);for(const s of i)this.valueChanges$$.has(s)&&this.valueChanges$$.get(s).unsubscribe(),this.valueChanges$$.delete(s),this.instances$$.delete(s),this.destroy$$.next(s)}else this.valueChanges$$.forEach(i=>{i.unsubscribe(),this.destroy$$.next("$$ALL")}),this.valueChanges$$.clear(),this.instances$$.clear()}clear(e){e?this.deleteControl(e):this.store.set({}),this.removeFromStorage(),this.removeInitialValue(e)}destroy(e){this.unsubscribe(e),this.clear(e)}upsert(e,i,s={}){const a=this.config.merge(s);if(a.withInitialValue&&!1===this.initialValues$$.has(e)&&this.setInitialValue(e,i.value),R()&&s.persistState&&!1===this.hasControl(e)){const h=this.getFromStorage(a.storage.key);h[e]&&this.store.update({[e]:P(I(e,i),h[e])})}if(!0===this.hasControl(e))i.patchValue(this.toControlValue(e,i,a.arrControlFactory),{emitEvent:!1});else{const h=this.updateStore(e,i);this.updateStorage(e,h,a)}const l=(0,ht.T)(i.statusChanges.pipe((0,b.x)()),...this.getValueChangeStreams(i)).pipe(function(n){return r=>r.lift(new mt(n))}(h=>h===E?ft.E:(0,dt.H)(a.debounceTime))).subscribe(()=>{const h=this.updateStore(e,i);this.updateStorage(e,h,a)});return this.valueChanges$$.set(e,l),this.instances$$.set(e,i),this}getValueChangeStreams(e){const i=[];if("blur"===e.updateOn)i.push(e.valueChanges.pipe(Y(E)));else if(i.push(e.valueChanges),e instanceof o.cw)return Object.keys(e.controls).reduce((s,a)=>"blur"===e.get(a).updateOn?[...s,e.get(a).valueChanges.pipe(Y(E))]:[...s],i);return i}removeFromStorage(){var e;null===(e=this.browserStorage)||void 0===e||e.setItem(this.config.merge().storage.key,JSON.stringify(this.store.getValue()))}updateStorage(e,i,s){var a;if(R()&&s.persistState){const l=this.getFromStorage(s.storage.key);l[e]=function(n){return S(n,r=>bt.includes(r))}(i),null===(a=this.browserStorage)||void 0===a||a.setItem(s.storage.key,JSON.stringify(l))}}getFromStorage(e){var i;return JSON.parse((null===(i=this.browserStorage)||void 0===i?void 0:i.getItem(e))||"{}")}deleteControl(e){this.store.set(function(n,r){return Object.keys(n).reduce((e,i)=>(!1===r.includes(i)&&(e[i]=n[i]),e),{})}(this.store.getValue(),Z(e)))}toControlValue(e,i,s){const a=this.getControl(e),l=a.value;return a.controls&&function(n,r,e){if(r instanceof o.Oe){if(B(r),!e)throw new Error("Please provide arrControlFactory");n.forEach((i,s)=>r.insert(s,e(i)))}else Object.keys(n).forEach(i=>{const s=n[i];if(Array.isArray(s)&&r.get(i)instanceof o.Oe){if(!e||e&&!(i in e))throw new Error(`Please provide arrControlFactory for ${i}`);const a=r.get(i),l=e[i];B(a),s.forEach((h,re)=>a.insert(re,l(h)))}})}(l,i,s),l}updateStore(e,i){const s=I(e,i);return this.store.update({[e]:s}),s}removeInitialValue(e){e?Z(e).forEach(i=>this.initialValues$$.delete(i)):this.initialValues$$.clear()}markDescendantsAsDirty(e,i){e.markAsDirty(i),(e instanceof o.cw||e instanceof o.Oe)&&Object.keys(e.controls).map(a=>e.controls[a]).forEach(a=>{a.markAsDirty(i),a.controls&&this.markDescendantsAsDirty(a,i)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(H,8),t.LFG(N))},n.\u0275prov=(0,t.Yz7)({factory:function(){return new n((0,t.LFG)(H,8),(0,t.LFG)(N))},token:n,providedIn:"root"}),n})();const Et=["formGroup",""],Vt=["*"];let V=(()=>{class n{constructor(){this.edit=!1}ngOnInit(){this.edit&&this.validateAllFormFields(this.formGroup)}validateAllFormFields(e){Object.keys(e.controls).forEach(i=>{const s=e.get(i);s instanceof o.NI?s.markAsTouched({onlySelf:!0}):s instanceof o.cw&&this.validateAllFormFields(s)}),e.markAllAsTouched()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reactive-partial-form","formGroup",""]],inputs:{formGroup:"formGroup",edit:"edit"},attrs:Et,ngContentSelectors:Vt,decls:5,vars:1,consts:[[3,"formGroup"]],template:function(e,i){1&e&&(t.F$t(),t.ynx(0,0),t._uU(1,"\n  "),t.Hsn(2),t._uU(3,"\n"),t.BQk(),t._uU(4,"\n")),2&e&&t.Q6J("formGroup",i.formGroup)},directives:[o.JL,o.sg],encapsulation:2}),n})();var L=u(4811),Lt=u(3836);let d=class extends $.G{constructor(r,e,i){super(r,e,"basic"),this.formsManager=r,this.query=e,this.formBuilder=i}get selectedGenders(){return[{value:"male",label:"male"},{value:"female",label:"female"},{value:"n/a",label:"n/a"}]}createFormGroup(){var r,e,i,s;this.formGroup=this.formBuilder.group({name:[null===(r=this.pristineData)||void 0===r?void 0:r.name,[o.kI.required,o.kI.minLength(3)]],birth_year:[null===(e=this.pristineData)||void 0===e?void 0:e.birth_year,[o.kI.required,o.kI.minLength(3)]],gender:[null===(i=this.pristineData)||void 0===i?void 0:i.gender,[o.kI.required]],homeworld:[null===(s=this.pristineData)||void 0===s?void 0:s.homeworld,[o.kI.required]]})}};d.\u0275fac=function(r){return new(r||d)(t.Y36(x),t.Y36(v),t.Y36(o.qu))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-person-basic-form"]],features:[t._Bn([v]),t.qOj],decls:21,vars:3,consts:[[1,"row","g-3","needs-validation",3,"formGroup","edit"],["formControlName","name",1,"col-md-6"],["invalid",""],["valid",""],["formControlName","birth_year",1,"col-md-3"],["formControlName","gender",1,"col-md-3",3,"data"],["formControlName","homeworld",1,"col-md-6"]],template:function(r,e){1&r&&(t.TgZ(0,"app-reactive-partial-form",0),t._uU(1,"\n  "),t.TgZ(2,"app-reactive-text",1),t._uU(3,"\n    Person name\n    "),t.ynx(4,2),t._uU(5,"Pay attention here!"),t.BQk(),t._uU(6,"\n    "),t.ynx(7,3),t._uU(8,"Nice!"),t.BQk(),t._uU(9,"\n  "),t.qZA(),t._uU(10,"\n\n  "),t.TgZ(11,"app-reactive-text",4),t._uU(12," birth_year "),t.qZA(),t._uU(13,"\n\n  "),t.TgZ(14,"app-reactive-combo",5),t._uU(15," gender "),t.qZA(),t._uU(16,"\n\n  "),t.TgZ(17,"app-reactive-text",6),t._uU(18," homeworld"),t.qZA(),t._uU(19,"\n"),t.qZA(),t._uU(20,"\n")),2&r&&(t.Q6J("formGroup",e.formGroup)("edit",e.isEditing),t.xp6(14),t.Q6J("data",e.selectedGenders))},directives:[V,o.JL,o.sg,L.s,o.JJ,o.u,Lt.D],encapsulation:2}),d=(0,C.gn)([(0,U.c)()],d);var jt=u(2699);function wt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",9),t._uU(1,"\n      "),t.TgZ(2,"app-reactive-text",10),t._uU(3),t.qZA(),t._uU(4,"\n      "),t.TgZ(5,"button",11),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw().removeAtControl("starships",a)}),t._uU(6,"\n        "),t._UZ(7,"i",12),t._uU(8,"\n      "),t.qZA(),t._uU(9,"\n    "),t.qZA()}if(2&n){const e=r.$implicit,i=r.index;t.xp6(2),t.Q6J("formControlName",i)("formControl",e),t.xp6(1),t.hij("\n        starships-",i+1,"")}}function Gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t._uU(1,"\n      "),t.TgZ(2,"app-reactive-text",10),t._uU(3),t.qZA(),t._uU(4,"\n      "),t.TgZ(5,"button",11),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw().removeAtControl("vehicles",a)}),t._uU(6,"\n        "),t._UZ(7,"i",12),t._uU(8,"\n      "),t.qZA(),t._uU(9,"\n    "),t.qZA()}if(2&n){const e=r.$implicit,i=r.index;t.xp6(2),t.Q6J("formControlName",i)("formControl",e),t.xp6(1),t.hij("\n        vehicle-",i+1,"")}}let g=class extends $.G{constructor(r,e,i){super(r,e,"extraInfo"),this.formsManager=r,this.query=e,this.builder=i}get vehicles(){return this.formGroup.controls.vehicles}get starships(){return this.formGroup.controls.starships}get arrControlFactory(){return{starships:r=>this.createControl(r),vehicles:r=>this.createControl(r)}}addControl(r){this.formGroup.get(r).push(this.createControl(""))}removeAtControl(r,e){this.formGroup.get(r).removeAt(e)}createFormGroup(){var r,e;this.formGroup=this.builder.group({species:[null===(r=this.pristineData)||void 0===r?void 0:r.species,[o.kI.required]],films:[null===(e=this.pristineData)||void 0===e?void 0:e.films,[o.kI.required]],starships:this.buildStarships(),vehicles:this.buildVehicles()})}buildStarships(){var r;let e=[];return this.isEditing&&(e=null===(r=this.pristineData)||void 0===r?void 0:r.starships.map(i=>this.createControl(i))),this.builder.array(e)}buildVehicles(){var r;let e=[];return this.isEditing&&(e=null===(r=this.pristineData)||void 0===r?void 0:r.vehicles.map(i=>this.createControl(i))),this.builder.array(e)}createControl(r){return new o.NI(r,[o.kI.required])}};g.\u0275fac=function(r){return new(r||g)(t.Y36(x),t.Y36(v),t.Y36(o.qu))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-person-extra-info-form"]],features:[t._Bn([v]),t.qOj],decls:41,vars:7,consts:[[1,"row","g-3","needs-validation",3,"formGroup","edit"],["formControlName","species",1,"col-md-6"],["formControlName","films","label","title","value","url",1,"col-md-6",3,"source"],[1,"col-md-6"],[1,"d-flex","flex-row","justify-content-between"],["type","button",1,"btn","btn-link","btn-sm","text-success",3,"click"],[1,"fas","fa-plus-circle","fa-2x"],["class","col-md-12 d-flex flex-row","formArrayName","starships",4,"ngFor","ngForOf"],["class","col-md-12 d-flex flex-row","formArrayName","vehicles",4,"ngFor","ngForOf"],["formArrayName","starships",1,"col-md-12","d-flex","flex-row"],[1,"w-100",3,"formControlName","formControl"],["type","button",1,"btn","btn-link","btn-sm","text-danger",3,"click"],[1,"far","fa-trash-alt"],["formArrayName","vehicles",1,"col-md-12","d-flex","flex-row"]],template:function(r,e){1&r&&(t.TgZ(0,"app-reactive-partial-form",0),t._uU(1,"\n  "),t.TgZ(2,"app-reactive-text",1),t._uU(3," species"),t.qZA(),t._uU(4,"\n\n  "),t.TgZ(5,"app-reactive-combo-multi",2),t._uU(6,"\n    Films\n  "),t.qZA(),t._uU(7,"\n\n  "),t.TgZ(8,"div",3),t._uU(9,"\n    "),t.TgZ(10,"div",4),t._uU(11,"\n      "),t.TgZ(12,"h4"),t._uU(13),t.qZA(),t._uU(14,"\n      "),t.TgZ(15,"button",5),t.NdJ("click",function(){return e.addControl("starships")}),t._uU(16,"\n        "),t._UZ(17,"i",6),t._uU(18,"\n      "),t.qZA(),t._uU(19,"\n    "),t.qZA(),t._uU(20,"\n    "),t.YNc(21,wt,10,3,"div",7),t._uU(22,"\n  "),t.qZA(),t._uU(23,"\n\n  "),t.TgZ(24,"div",3),t._uU(25,"\n    "),t.TgZ(26,"div",4),t._uU(27,"\n      "),t.TgZ(28,"h4"),t._uU(29),t.qZA(),t._uU(30,"\n      "),t.TgZ(31,"button",5),t.NdJ("click",function(){return e.addControl("vehicles")}),t._uU(32,"\n        "),t._UZ(33,"i",6),t._uU(34,"\n      "),t.qZA(),t._uU(35,"\n    "),t.qZA(),t._uU(36,"\n    "),t.YNc(37,Gt,10,3,"div",8),t._uU(38,"\n  "),t.qZA(),t._uU(39,"\n"),t.qZA(),t._uU(40,"\n")),2&r&&(t.Q6J("formGroup",e.formGroup)("edit",e.isEditing),t.xp6(5),t.Q6J("source",e.extraData.films),t.xp6(8),t.hij("Starships (",e.starships.controls.length,")"),t.xp6(8),t.Q6J("ngForOf",e.starships.controls),t.xp6(8),t.hij("Vehicles (",e.vehicles.controls.length,")"),t.xp6(8),t.Q6J("ngForOf",e.vehicles.controls))},directives:[V,o.JL,o.sg,L.s,o.JJ,o.u,jt.j,c.sg,o.CE,o.oH],encapsulation:2}),g=(0,C.gn)([(0,U.c)()],g);var Dt=u(3159),Mt=u(8922);function Jt(n,r){1&n&&t._UZ(0,"i",8)}function Yt(n,r){1&n&&t._UZ(0,"i",8)}function Rt(n,r){1&n&&t._UZ(0,"i",8)}let m=class extends Dt.r{constructor(r,e,i){super(r,e,["basic","visual","extraInfo"]),this.formsManager=r,this.store=e,this.route=i}ngOnInit(){this.route.data.pipe((0,U.t)(this)).subscribe(r=>{this.setPristine(r.data),this.setStore(this.pristineData,{films:r.films.items})})}save(){this.isValid&&(console.log("valid"),console.log(this.getValues()))}};m.\u0275fac=function(r){return new(r||m)(t.Y36(x),t.Y36(O),t.Y36(p.gz))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-person-form-handler"]],features:[t._Bn([O]),t.qOj],decls:33,vars:5,consts:[[1,"nav","nav-pills"],[1,"nav-item"],["aria-current","page","routerLink","basic","routerLinkActive","active",1,"nav-link"],["class","far fa-check-circle",4,"ngIf"],["routerLink","visual","routerLinkActive","active",1,"nav-link"],["routerLink","extra-info","routerLinkActive","active",1,"nav-link"],[1,"btn","btn-info",3,"disabled","click"],[3,"form"],[1,"far","fa-check-circle"]],template:function(r,e){1&r&&(t.TgZ(0,"ul",0),t._uU(1,"\n  "),t.TgZ(2,"li",1),t._uU(3,"\n    "),t.TgZ(4,"a",2),t._uU(5,"\n      basic\n      "),t.YNc(6,Jt,1,0,"i",3),t._uU(7,"\n    "),t.qZA(),t._uU(8,"\n  "),t.qZA(),t._uU(9,"\n  "),t.TgZ(10,"li",1),t._uU(11,"\n    "),t.TgZ(12,"a",4),t._uU(13,"\n      visual "),t.YNc(14,Yt,1,0,"i",3),t.qZA(),t._uU(15,"\n  "),t.qZA(),t._uU(16,"\n  "),t.TgZ(17,"li",1),t._uU(18,"\n    "),t.TgZ(19,"a",5),t._uU(20,"\n      extra-info\n      "),t.YNc(21,Rt,1,0,"i",3),t._uU(22,"\n    "),t.qZA(),t._uU(23,"\n  "),t.qZA(),t._uU(24,"\n"),t.qZA(),t._uU(25,"\n"),t._UZ(26,"router-outlet"),t._uU(27,"\n\n"),t.TgZ(28,"button",6),t.NdJ("click",function(){return e.save()}),t._uU(29,"Save"),t.qZA(),t._uU(30,"\n\n"),t._UZ(31,"app-form-debug",7),t._uU(32,"\n")),2&r&&(t.xp6(6),t.Q6J("ngIf",e.checkValid("basic")),t.xp6(8),t.Q6J("ngIf",e.checkValid("visual")),t.xp6(7),t.Q6J("ngIf",e.checkValid("extraInfo")),t.xp6(7),t.Q6J("disabled",!e.isValid),t.xp6(3),t.Q6J("form",e.getValues()))},directives:[p.yS,p.Od,c.O5,p.lC,Mt.J],encapsulation:2}),m=(0,C.gn)([(0,U.c)()],m);let _=class extends $.G{constructor(r,e,i){super(r,e,"visual"),this.formsManager=r,this.query=e,this.formBuilder=i}createFormGroup(){var r,e,i,s,a;this.formGroup=this.formBuilder.group({height:[null===(r=this.pristineData)||void 0===r?void 0:r.height,[o.kI.required,o.kI.minLength(2)]],mass:[null===(e=this.pristineData)||void 0===e?void 0:e.mass,[o.kI.required,o.kI.minLength(1)]],eye_color:[null===(i=this.pristineData)||void 0===i?void 0:i.eye_color,[o.kI.required,o.kI.minLength(3)]],hair_color:[null===(s=this.pristineData)||void 0===s?void 0:s.hair_color,[o.kI.required,o.kI.minLength(3)]],skin_color:[null===(a=this.pristineData)||void 0===a?void 0:a.skin_color,[o.kI.required,o.kI.minLength(3)]]})}};_.\u0275fac=function(r){return new(r||_)(t.Y36(x),t.Y36(v),t.Y36(o.qu))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-person-visual-form"]],features:[t._Bn([v]),t.qOj],decls:18,vars:2,consts:[[1,"row","g-3","needs-validation",3,"formGroup","edit"],["formControlName","height",1,"col-md-3"],["formControlName","mass",1,"col-md-3"],["formControlName","eye_color",1,"col-md-3"],["formControlName","hair_color",1,"col-md-3"],["formControlName","skin_color",1,"col-md-3"]],template:function(r,e){1&r&&(t.TgZ(0,"app-reactive-partial-form",0),t._uU(1,"\n  "),t.TgZ(2,"app-reactive-text",1),t._uU(3," height"),t.qZA(),t._uU(4,"\n\n  "),t.TgZ(5,"app-reactive-text",2),t._uU(6," mass"),t.qZA(),t._uU(7,"\n\n  "),t.TgZ(8,"app-reactive-text",3),t._uU(9," eye_color"),t.qZA(),t._uU(10,"\n\n  "),t.TgZ(11,"app-reactive-text",4),t._uU(12," hair_color"),t.qZA(),t._uU(13,"\n\n  "),t.TgZ(14,"app-reactive-text",5),t._uU(15," skin_color"),t.qZA(),t._uU(16,"\n"),t.qZA(),t._uU(17,"\n")),2&r&&t.Q6J("formGroup",e.formGroup)("edit",e.isEditing)},directives:[V,o.JL,o.sg,L.s,o.JJ,o.u],encapsulation:2}),_=(0,C.gn)([(0,U.c)()],_);var Qt=u(7161);let Bt=(()=>{class n{constructor(e){this.service=e,this.searchFilters=["name"]}resolve(e){const i=Qt.z.filter(e.queryParams,this.searchFilters);return this.service.findAll(i)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ht=u(3338);const zt=function(n){return[n,"edit"]};function Xt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n            "),t.TgZ(2,"td"),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.TgZ(5,"td"),t._uU(6),t.qZA(),t._uU(7,"\n            "),t.TgZ(8,"td"),t._uU(9),t.qZA(),t._uU(10,"\n            "),t.TgZ(11,"td"),t._uU(12),t.qZA(),t._uU(13,"\n            "),t.TgZ(14,"td"),t._uU(15),t.qZA(),t._uU(16,"\n            "),t.TgZ(17,"td"),t._uU(18),t.qZA(),t._uU(19,"\n            "),t.TgZ(20,"td"),t._uU(21,"\n              "),t.TgZ(22,"a",11),t._uU(23,"\n                "),t._UZ(24,"i",12),t._uU(25,"\n                View\n              "),t.qZA(),t._uU(26,"\n              "),t.TgZ(27,"a",13),t._uU(28,"\n                "),t._UZ(29,"i",14),t._uU(30,"\n              "),t.qZA(),t._uU(31,"\n              "),t.TgZ(32,"button",15),t.NdJ("click",function(s){const l=t.CHM(e).$implicit;return t.oxw(2).delete(l,s)}),t._uU(33,"\n                "),t._UZ(34,"i",16),t._uU(35,"\n              "),t.qZA(),t._uU(36,"\n            "),t.qZA(),t._uU(37,"\n          "),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.id),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(e.birth_year),t.xp6(3),t.Oqu(e.gender),t.xp6(3),t.Oqu(e.films.length),t.xp6(3),t.Oqu(e.edited),t.xp6(4),t.Q6J("routerLink",e.id),t.xp6(5),t.Q6J("routerLink",t.VKq(8,zt,e.id))}}function Kt(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1,"\n    "),t.TgZ(2,"app-grid",4),t._uU(3,"\n      "),t.ynx(4,5),t._uU(5,"\n        "),t.TgZ(6,"div",6),t._uU(7,"\n          "),t._UZ(8,"input",7),t._uU(9,"\n        "),t.qZA(),t._uU(10,"\n      "),t.BQk(),t._uU(11,"\n\n      "),t.TgZ(12,"table",8),t._uU(13,"\n        "),t.TgZ(14,"thead"),t._uU(15,"\n          "),t.TgZ(16,"tr"),t._uU(17,"\n            "),t.TgZ(18,"th",9),t._uU(19,"#"),t.qZA(),t._uU(20,"\n            "),t.TgZ(21,"th",9),t._uU(22,"Name"),t.qZA(),t._uU(23,"\n            "),t.TgZ(24,"th",9),t._uU(25,"Birth Year"),t.qZA(),t._uU(26,"\n            "),t.TgZ(27,"th",9),t._uU(28,"Gender"),t.qZA(),t._uU(29,"\n            "),t.TgZ(30,"th",9),t._uU(31,"Films"),t.qZA(),t._uU(32,"\n            "),t.TgZ(33,"th",9),t._uU(34,"Updated at"),t.qZA(),t._uU(35,"\n            "),t.TgZ(36,"th",9),t._uU(37,"Actions"),t.qZA(),t._uU(38,"\n          "),t.qZA(),t._uU(39,"\n        "),t.qZA(),t._uU(40,"\n        "),t.TgZ(41,"tbody"),t._uU(42,"\n          "),t.YNc(43,Xt,38,10,"tr",10),t._uU(44,"\n        "),t.qZA(),t._uU(45,"\n      "),t.qZA(),t._uU(46,"\n    "),t.qZA(),t._uU(47,"\n  "),t.qZA()),2&n){const e=r.ngIf;t.xp6(2),t.Q6J("data",e)("searchBar",!0),t.xp6(41),t.Q6J("ngForOf",e.items)}}let Wt=(()=>{class n{constructor(e,i,s,a){this.route=e,this.router=i,this.renderer=s,this.peopleService=a,this.data$=(0,G.of)()}ngOnInit(){this.data$=this.route.data}changePage(e,i){this.navigate({page:i})}delete(e,i){if(!confirm(`Are you sure to delete ${e.name}?`))return;let a=i.currentTarget.parentElement;for(;!a.classList.contains("stn-item");)a=a.parentElement}navigate(e){this.router.navigate([],{relativeTo:this.route,queryParams:e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(t.Qsj),t.Y36(y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-employee-list"]],decls:14,vars:3,consts:[["page-title",""],["page-action-bar","","role","button","routerLink","new",1,"btn","btn-primary"],[1,"fas","fa-plus","fa-fw"],[4,"ngIf"],[3,"data","searchBar"],["search-fields",""],[1,"col-auto"],["id","name","name","name","placeholder","Name","type","text",1,"form-control"],["grid-view","",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"far","fa-eye","fa-tw"],["role","button",1,"btn","btn-outline-info","btn-sm",3,"routerLink"],[1,"fas","fa-pencil-alt","fa-fw"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt","fa-fw"]],template:function(e,i){if(1&e&&(t.TgZ(0,"app-page"),t._uU(1,"\n  "),t.TgZ(2,"span",0),t._uU(3,"People"),t.qZA(),t._uU(4,"\n  "),t.TgZ(5,"a",1),t._uU(6,"\n    "),t._UZ(7,"i",2),t._uU(8," New Person\n  "),t.qZA(),t._uU(9,"\n\n  "),t.YNc(10,Kt,48,3,"div",3),t.ALo(11,"async"),t._uU(12,"\n"),t.qZA(),t._uU(13,"\n")),2&e){let s;t.xp6(10),t.Q6J("ngIf",null==(s=t.lcZ(11,1,i.data$))?null:s.page)}},directives:[M.I,p.yS,c.O5,Ht.M,c.sg],pipes:[c.Ov],encapsulation:2}),n})(),z=(()=>{class n{constructor(e){this.service=e}resolve(e){const i=e.paramMap.get("personId");return this.service.findById(i)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const te=[{path:"",children:[{path:"",pathMatch:"full",component:Wt,runGuardsAndResolvers:"paramsOrQueryParamsChange",resolve:{page:Bt}},{path:"new",component:m,resolve:{films:w.X},children:[{path:"",redirectTo:"basic"},{path:"basic",pathMatch:"full",component:d},{path:"visual",pathMatch:"full",component:_},{path:"extra-info",pathMatch:"full",component:g}]},{path:":personId/edit",component:m,resolve:{data:z,films:w.X},children:[{path:"",redirectTo:"basic"},{path:"basic",pathMatch:"full",component:d},{path:"visual",pathMatch:"full",component:_},{path:"extra-info",pathMatch:"full",component:g}]},{path:":personId",pathMatch:"full",component:lt,resolve:{data:z}}]}];let ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(te)],p.Bz]}),n})(),ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,p.Bz,o.u5,o.UX,ee,X.jF,W.K,K.m8]]}),n})()}}]);