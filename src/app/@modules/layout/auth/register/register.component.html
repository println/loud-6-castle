<div class='o-float-box'>
  <div>
    <div class='d-inline-block ml-3'>
      <app-language-selector></app-language-selector>
    </div>
  </div>
  <div class='o-float-box__container'>
    <div class='o-float-box__content'>
      <h4 class='o-float-box__header' translate>
        Welcome!
      </h4>
      <form (ngSubmit)='register()' [formGroup]='form' novalidate>
        <div class='m-3'>
          <div class='alert alert-danger' [hidden]='!error || isLoading' translate>
            Username or password incorrect.
          </div>

          <div class='d-flex flex-column mb-4'>
            <div class='input-group input-group-lg'>
              <input
                type='text'
                class='form-control'
                formControlName='firstname'
                autocomplete='firstname'
                [placeholder]="'First Name' | translate"
              />
            </div>
            <span hidden translate>Username</span>
            <small
              [hidden]='form.controls.firstname.valid || form.controls.firstname.untouched'
              class='text-danger'
              translate
            >
              First Name is required
            </small>
          </div>

          <div class='d-flex flex-column mb-4'>
            <div class='input-group input-group-lg'>
              <input
                type='text'
                class='form-control'
                formControlName='lastname'
                autocomplete='lastname'
                [placeholder]="'Last Name' | translate"
              />
            </div>
            <span hidden translate>Username</span>
            <small
              [hidden]='form.controls.lastname.valid || form.controls.lastname.untouched'
              class='text-danger'
              translate
            >
              Last Name is required
            </small>
          </div>

          <div class='d-flex flex-column mb-4'>
            <div class='input-group input-group-lg'>
              <input
                type='text'
                class='form-control'
                formControlName='email'
                autocomplete='email'
                [placeholder]="'Email' | translate"
              />
            </div>
            <span hidden translate>Username</span>
            <small
              [hidden]='form.controls.email.valid || form.controls.email.untouched'
              class='text-danger'
              translate
            >
              Email is required
            </small>
          </div>

          <div class='d-flex flex-column mb-4'>
            <div class='input-group input-group-lg'>
              <input
                [type]="showPassword ? 'text' : 'password'"
                class='form-control'
                formControlName='password'
                autocomplete='current-password'
                [placeholder]="'Password' | translate"
                required
              />
              <span class='input-group-text' (click)='toggleShowPassword()'>
                    <i [hidden]='showPassword' class='fas fa-eye'></i>
                    <i [hidden]='!showPassword' class='fas fa-eye-slash'></i>
                 </span>
            </div>
            <span hidden translate>Password</span>
            <small
              [hidden]='form.controls.password.valid || form.controls.password.untouched'
              class='text-danger'
              translate
            >
              Password is required
            </small>
          </div>

          <div class='d-flex flex-row mb-4 justify-content-evenly'>
            <div class='form-check'>
              <input type='checkbox' class='form-check-input' formControlName='agree' id='agree' role='switch' />
              <label for='agree' translate>I agree!</label>
            </div>
          </div>

          <button class='btn btn-primary w-100 btn-lg' type='submit' [disabled]='form.invalid || isLoading'>
            <i class='fas fa-cog fa-spin' [hidden]='!isLoading'></i>
            <span translate>Create account</span>
          </button>

          <div class='d-flex flex-row mt-5 mx-2 justify-content-end'>
            <p><a [routerLink]='routes.login.path' translate>Sign in</a></p>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
